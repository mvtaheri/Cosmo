<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Cosmo </title>
</head>
<body>

 <form id="spelling_form"  action="#" method="GET">
	<label>number to spell:</label>
	<input type="text" id="number" name="number" >
<label >language:</label>

<select name="language" id="language">
  <option value="en_AU">en_AU</option>
  <option value="en_GB">en_GB</option>
  <option value="de_DE">de_DE</option>
  <option value="zh_CN">zh_CN</option>
  <option value="fa_IR">fa_IR</option>
  <option value="hi_IN">hi_IN</option>
</select>

	<input type="submit"  name="formSubmit" value="Submit">
  </form>
  <p>the result is:</p>
  <p id="result"></p>
<script type="text/javascript">

const form = document.getElementById('spelling_form'); 
form.addEventListener('submit', function(e) {
     e.preventDefault();
     var number=document.getElementById("number").value;
     var language= document.getElementById("language").value;
     console.log('number'+number+'Language'+language);
     const xhr = new XMLHttpRequest();
     xhr.onreadystatechange = function () {
       if (this.readyState == 4 && this.status == 200) {
       console.log(xhttp.responseText);
       } else {
         console.log("error")
       }
      };
    $uri_base="localhost:8080/convert?number="+number+"&&language="+language;
	xhr.open("GET", $uri_base,true);
	xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
	xhr.setRequestHeader('Access-Control-Allow-Headers', '*');
	xhr.setRequestHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS');
	xhr.setRequestHeader('Access-Control-Allow-Credentials' ,true);
	xhr.setRequestHeader('Content-Type', "application/json");
	xhr.setRequestHeader('Accept', "application/json");
	xhr.send();
	
	xhr.onload = function() {
      if (xhr.status === 200) {
       data = JSON.parse(xhr.responseText);
       document.getElementById('');
        console.log(data);
  	  } else if (xhr.status === 404) {
    		console.log("No records found")
        }
     }

//triggered when a network-level error occurs with the request
xhr.onerror = function() {
  console.log("Network error occurred")
xhr.onprogress = function(e) {
  if (e.lengthComputable) {
    console.log(`${e.loaded} B of ${e.total} B loaded!`)
  } else {
    console.log(`${e.loaded} B loaded!`)
  }
}
}
});
</script>
</body>
</html>